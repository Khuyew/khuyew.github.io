<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KHAI ‚Äî –ß–∞—Ç —Å –ò–ò</title>
    <meta name="description" content="KHAI ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π">
    <meta name="theme-color" content="#0f0f23">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>ü§ñ</text></svg>">
    
    <!-- Styles -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body data-theme="dark">
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo-container">
                    <div class="logo">K</div>
                    <div>
                        <div class="logo-text">KHAI</div>
                        <div class="subtitle">–ß–∞—Ç —Å –ò–ò</div>
                    </div>
                </div>
                <div class="header-controls">
                    <select class="model-select" id="modelSelect">
                        <option value="gpt-3.5">GPT-3.5 Turbo</option>
                        <option value="gpt-4">GPT-4</option>
                        <option value="claude">Claude 3</option>
                        <option value="gemini">Gemini Pro</option>
                        <option value="dall-e">DALL-E 3</option>
                    </select>
                    <button class="control-btn" id="themeToggle">
                        <i class="ti ti-moon"></i>
                    </button>
                    <button class="control-btn menu-toggle" id="menuToggle">
                        <i class="ti ti-menu-2"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Chat Area -->
        <main class="chat-main">
            <div class="messages-container" id="messagesContainer">
                <!-- Messages will be loaded here -->
            </div>

            <!-- Input Area -->
            <div class="input-section">
                <div class="input-wrapper">
                    <button class="attach-btn" id="attachFileBtn" title="–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª">
                        <i class="ti ti-paperclip"></i>
                        <input type="file" id="fileInput" accept="image/*,.txt,.pdf,.doc,.docx" multiple style="display: none;">
                    </button>
                    <textarea id="userInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." rows="1"></textarea>
                    <div class="input-controls">
                        <button class="input-btn" id="voiceToggle" title="–ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥">
                            <i class="ti ti-microphone"></i>
                        </button>
                        <button class="send-btn" id="sendButton" title="–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ">
                            <i class="ti ti-send"></i>
                        </button>
                    </div>
                </div>
                <div class="attached-files" id="attachedFiles"></div>
                <div class="action-buttons">
                    <button class="action-btn" id="newChatBtn">
                        <i class="ti ti-plus"></i>
                        <span>–ù–æ–≤—ã–π —á–∞—Ç</span>
                    </button>
                    <button class="action-btn" id="clearChatBtn">
                        <i class="ti ti-trash"></i>
                        <span>–û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç</span>
                    </button>
                    <button class="action-btn" id="imageGenBtn">
                        <i class="ti ti-photo"></i>
                        <span>–°–æ–∑–¥–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</span>
                    </button>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-content">
                <div class="current-chat-info">
                    <i class="ti ti-message-chatbot"></i>
                    <span id="currentChatName">–û–±—â–∏–π —á–∞—Ç</span>
                </div>
                <span>KHAI v2.0</span>
                <span>–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫</span>
            </div>
        </footer>
    </div>

    <!-- Sidebar Menu -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    <div class="sidebar-menu" id="sidebarMenu">
        <div class="sidebar-header">
            <h3>–ú–µ–Ω—é KHAI</h3>
            <button class="sidebar-close" id="sidebarClose">
                <i class="ti ti-x"></i>
            </button>
        </div>
        <div class="sidebar-content">
            <div class="sidebar-section">
                <h4><i class="ti ti-messages"></i> –ß–∞—Ç—ã</h4>
                <div class="chat-list" id="chatList">
                    <!-- Chat items will be added here dynamically -->
                </div>
                <button class="sidebar-btn primary" id="sidebarNewChat">
                    <i class="ti ti-plus"></i>
                    <span>–ù–æ–≤—ã–π —á–∞—Ç</span>
                </button>
            </div>
            <div class="sidebar-section">
                <h4><i class="ti ti-settings"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h4>
                <button class="sidebar-btn" id="exportChatsBtn">
                    <i class="ti ti-download"></i>
                    <span>–≠–∫—Å–ø–æ—Ä—Ç —á–∞—Ç–æ–≤</span>
                </button>
                <button class="sidebar-btn" id="importChatsBtn">
                    <i class="ti ti-upload"></i>
                    <span>–ò–º–ø–æ—Ä—Ç —á–∞—Ç–æ–≤</span>
                </button>
                <button class="sidebar-btn" id="clearAllChatsBtn">
                    <i class="ti ti-trash"></i>
                    <span>–£–¥–∞–ª–∏—Ç—å –≤—Å–µ —á–∞—Ç—ã</span>
                </button>
            </div>
            <div class="sidebar-section">
                <h4><i class="ti ti-info-circle"></i> –û –ø—Ä–æ–≥—Ä–∞–º–º–µ</h4>
                <div class="about-content">
                    <div class="about-item">
                        <strong>KHAI</strong>
                        <span>–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</span>
                    </div>
                    <div class="about-item">
                        <strong>–í–µ—Ä—Å–∏—è</strong>
                        <span>2.0.0</span>
                    </div>
                    <div class="about-item">
                        <strong>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</strong>
                        <span>–ö–æ–º–∞–Ω–¥–∞ KHAI</span>
                    </div>
                    <div class="about-item">
                        <strong>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</strong>
                        <a href="mailto:support@khai.ai">support@khai.ai</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for editing chat name -->
    <div class="modal-overlay" id="editChatModal">
        <div class="modal">
            <div class="modal-header">
                <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞</h3>
                <button class="modal-close" id="editChatClose">
                    <i class="ti ti-x"></i>
                </button>
            </div>
            <div class="modal-body">
                <input type="text" class="modal-input" id="editChatInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞">
            </div>
            <div class="modal-footer">
                <button class="modal-btn" id="editChatCancel">–û—Ç–º–µ–Ω–∞</button>
                <button class="modal-btn primary" id="editChatSave">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
