<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KHAI - Первый белорусский ИИ чат</title>
    <meta name="description" content="KHAI - первый белорусский искусственный интеллект для общения, помощи в работе и творчестве. Современный AI ассистент с поддержкой мультимодальных возможностей.">
    <meta name="keywords" content="искусственный интеллект, AI, чат, белорусский, KHAI, GPT, нейросеть, общение">
    <meta name="author" content="KHAI Team">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#0f0f23">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="KHAI">
    
    <!-- Open Graph -->
    <meta property="og:title" content="KHAI - Первый белорусский ИИ чат">
    <meta property="og:description" content="Современный AI ассистент с поддержкой мультимодальных возможностей">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/logo.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/logo.png">
    <link rel="apple-touch-icon" href="/logo.png">
    
    <!-- Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Font Awesome для иконок -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Основные стили -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Шапка приложения -->
        <header class="app-header">
            <div class="header-content">
                <!-- Логотип и выбор модели -->
                <div class="logo-container">
                    <div class="logo">
                        <img src="/logo.png" alt="KHAI Logo">
                    </div>
                    <button class="model-select-btn">
                        <i class="fas fa-robot"></i>
                        <span>GPT-4 Turbo</span>
                    </button>
                </div>
                
                <!-- Поиск по сообщениям -->
                <div class="header-search">
                    <i class="fas fa-search"></i>
                    <input 
                        type="text" 
                        id="headerSearchInput" 
                        placeholder="Поиск по сообщениям..."
                        aria-label="Поиск по сообщениям"
                    >
                </div>
                
                <!-- Управление -->
                <div class="header-controls">
                    <button class="control-btn" id="themeToggle" aria-label="Сменить тему">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="control-btn" id="menuToggle" aria-label="Открыть меню">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
            
            <!-- Прогресс-бар скролла -->
            <div class="scroll-progress">
                <div class="scroll-progress-bar"></div>
            </div>
        </header>

        <!-- Основная область чата -->
        <main class="chat-main">
            <!-- Контейнер сообщений -->
            <div class="messages-container">
                <!-- Сообщения будут добавляться здесь динамически -->
            </div>
            
            <!-- Навигация по чату -->
            <div class="chat-navigation">
                <button class="nav-btn up" aria-label="К предыдущему сообщению">
                    <i class="fas fa-chevron-up"></i>
                </button>
                <button class="nav-btn down" aria-label="К следующему сообщению">
                    <i class="fas fa-chevron-down"></i>
                </button>
            </div>
        </main>

        <!-- Область ввода -->
        <section class="input-section">
            <!-- Индикатор режима -->
            <div class="mode-indicator text-mode">
                <i class="fas fa-keyboard"></i>
                <span>Текстовый режим</span>
            </div>
            
            <!-- Основной блок ввода -->
            <div class="input-wrapper">
                <!-- Кнопка прикрепления файлов -->
                <button class="attach-btn" aria-label="Прикрепить файлы">
                    <i class="fas fa-plus"></i>
                </button>
                <input 
                    type="file" 
                    id="fileInput" 
                    multiple 
                    accept="image/*,text/plain,application/pdf,audio/*"
                    style="display: none;"
                    aria-hidden="true"
                >
                
                <!-- Поле ввода -->
                <div class="input-area">
                    <textarea 
                        id="userInput" 
                        placeholder="Введите ваше сообщение..." 
                        rows="1"
                        aria-label="Поле ввода сообщения"
                    ></textarea>
                    
                    <!-- Управление вводом -->
                    <div class="input-controls">
                        <button class="input-btn clear-input-btn" aria-label="Очистить ввод">
                            <i class="fas fa-times"></i>
                        </button>
                        <button class="input-btn voice" aria-label="Голосовой ввод">
                            <i class="fas fa-microphone"></i>
                        </button>
                        <button class="send-btn" id="sendButton" aria-label="Отправить сообщение">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Прикрепленные файлы -->
            <div class="attached-files">
                <!-- Файлы будут добавляться здесь динамически -->
            </div>
            
            <!-- Статистика ввода -->
            <div class="input-stats">
                <div class="input-stat char-count">
                    <i class="fas fa-font"></i>
                    <span>0/4000</span>
                </div>
                <div class="input-stat file-count">
                    <i class="fas fa-paperclip"></i>
                    <span>0/5</span>
                </div>
                <div class="stat-progress">
                    <div class="stat-progress-bar"></div>
                </div>
            </div>
            
            <!-- Кнопки действий -->
            <div class="action-buttons">
                <button class="action-btn text-mode active" data-mode="text" aria-label="Текстовый режим">
                    <i class="fas fa-keyboard"></i>
                </button>
                <button class="action-btn image-mode" data-mode="image" aria-label="Режим изображений">
                    <i class="fas fa-image"></i>
                </button>
                <button class="action-btn voice-mode" data-mode="voice" aria-label="Голосовой режим">
                    <i class="fas fa-microphone"></i>
                </button>
            </div>
        </section>

        <!-- Подвал -->
        <footer class="app-footer">
            <div class="footer-content">
                <div class="footer-controls">
                    <button class="footer-btn" id="clearChat" aria-label="Очистить чат">
                        <i class="fas fa-trash"></i>
                    </button>
                    <button class="footer-btn" id="downloadChat" aria-label="Скачать чат">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="footer-btn" aria-label="Помощь">
                        <i class="fas fa-question"></i>
                    </button>
                </div>
                
                <div class="current-chat-info">
                    <i class="fas fa-comment"></i>
                    <span>Новый чат</span>
                </div>
                
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span>AI онлайн</span>
                </div>
            </div>
        </footer>
    </div>

    <!-- Сайдбар меню -->
    <aside class="sidebar-menu">
        <div class="sidebar-header">
            <div class="sidebar-logo">
                <img src="/logo.png" alt="KHAI">
                <h3>KHAI</h3>
            </div>
            <button class="sidebar-close" aria-label="Закрыть меню">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="sidebar-content">
            <!-- Поиск по чатам -->
            <div class="search-chats">
                <i class="fas fa-search"></i>
                <input 
                    type="text" 
                    id="chatSearchInput" 
                    placeholder="Поиск по чатам..."
                    aria-label="Поиск по чатам"
                >
            </div>
            
            <!-- Список чатов -->
            <div class="chat-list">
                <!-- Чаты будут добавляться здесь динамически -->
            </div>
            
            <!-- Управление чатами -->
            <div class="sidebar-section">
                <h4>Управление</h4>
                <button class="sidebar-btn primary" id="newChat">
                    <i class="fas fa-plus"></i>
                    Новый чат
                </button>
            </div>
            
            <!-- Настройки -->
            <div class="sidebar-section">
                <h4>Настройки</h4>
                
                <!-- Выбор языка -->
                <select class="language-select" id="languageSelect" aria-label="Выбор языка">
                    <option value="ru">Русский</option>
                    <option value="en">English</option>
                    <option value="be">Беларуская</option>
                </select>
                
                <!-- Звуковые оповещения -->
                <div class="sound-settings">
                    <div class="sound-toggle active">
                        <span>Звуковые оповещения</span>
                        <i class="fas fa-volume-up"></i>
                    </div>
                </div>
            </div>
            
            <!-- Информация -->
            <div class="sidebar-section">
                <h4>Информация</h4>
                <button class="sidebar-btn">
                    <i class="fas fa-info-circle"></i>
                    О приложении
                </button>
                <button class="sidebar-btn">
                    <i class="fas fa-bug"></i>
                    Сообщить об ошибке
                </button>
                <button class="sidebar-btn">
                    <i class="fas fa-star"></i>
                    Оценить приложение
                </button>
            </div>
        </div>
        
        <!-- Подвал сайдбара -->
        <div class="sidebar-footer">
            <img src="/logo.png" alt="KHAI Watermark">
            <p>KHAI &copy; 2024<br>Первый белорусский ИИ</p>
        </div>
    </aside>

    <!-- Модальное окно выбора модели -->
    <div class="modal-overlay">
        <div class="model-modal">
            <div class="modal-header">
                <h2>Выбор модели AI</h2>
                <button class="modal-close" aria-label="Закрыть">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="model-list">
                <div class="model-item active" data-model="gpt-4">
                    <div class="model-header">
                        <div class="model-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="model-name">GPT-4 Turbo</div>
                    </div>
                    <div class="model-description">
                        Самый продвинутый модель от OpenAI. Отлично подходит для сложных задач, творчества и анализа.
                    </div>
                </div>
                
                <div class="model-item" data-model="gpt-3.5">
                    <div class="model-header">
                        <div class="model-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="model-name">GPT-3.5 Turbo</div>
                    </div>
                    <div class="model-description">
                        Быстрая и эффективная модель. Идеальна для повседневных задач и быстрых ответов.
                    </div>
                </div>
                
                <div class="model-item" data-model="claude-3">
                    <div class="model-header">
                        <div class="model-icon">
                            <i class="fas fa-cloud"></i>
                        </div>
                        <div class="model-name">Claude 3 Opus</div>
                    </div>
                    <div class="model-description">
                        Мощная модель от Anthropic. Особенно хороша в анализе текстов и решении сложных проблем.
                    </div>
                </div>
                
                <div class="model-item" data-model="gemini-pro">
                    <div class="model-header">
                        <div class="model-icon">
                            <i class="fas fa-gem"></i>
                        </div>
                        <div class="model-name">Gemini Pro</div>
                    </div>
                    <div class="model-description">
                        Универсальная модель от Google. Отлично справляется с разнообразными задачами.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Контейнер для уведомлений -->
    <div class="notifications-container">
        <!-- Уведомления будут добавляться здесь динамически -->
    </div>

    <!-- Основной скрипт -->
    <script src="script.js"></script>
    
    <!-- Service Worker регистрация -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>
</html>
