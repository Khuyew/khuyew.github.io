<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KHAI — Первый белорусский ИИ чат</title>
    <meta name="description" content="KHAI — первый белорусский ИИ чат с поддержкой генерации изображений, голосового ввода и анализа файлов. Современный AI-ассистент для решения повседневных задач.">
    <meta name="keywords" content="ии чат, белорусский ии, искусственный интеллект, голосовой ввод, генерация изображений, ai ассистент">
    <meta name="author" content="KHAI">
    
    <!-- Open Graph -->
    <meta property="og:title" content="KHAI — Первый белорусский ИИ чат">
    <meta property="og:description" content="Первый белорусский ИИ чат с генерацией изображений и голосовым вводом">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://khai.chat">
    <meta property="og:image" content="/logo.png">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="KHAI — Первый белорусский ИИ чат">
    <meta name="twitter:description" content="Первый белорусский ИИ чат с генерацией изображений и голосовым вводом">
    <meta name="twitter:image" content="/logo.png">
    
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/logo.png">
    
    <!-- PWA -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#0f0f23">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header" id="appHeader">
            <div class="header-content">
                <div class="header-main">
                    <div class="logo" id="appLogo">KHAI</div>
                    <div class="subtitle">Первый белорусский ИИ чат</div>
                </div>
                <div class="header-controls">
                    <select class="model-select" id="modelSelect">
                        <option value="gpt-4">GPT-4</option>
                        <option value="gpt-3.5">GPT-3.5 Turbo</option>
                        <option value="claude-2">Claude 2</option>
                        <option value="dalle-3">DALL-E 3</option>
                    </select>
                    <button class="control-btn search-btn" id="searchBtn" title="Поиск по чатам">
                        <i class="fas fa-search"></i>
                    </button>
                    <button class="control-btn" id="newChatBtn" title="Новый чат">
                        <i class="fas fa-plus"></i>
                    </button>
                    <button class="control-btn" id="menuBtn" title="Меню">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Chat Area -->
        <main class="chat-main" id="chatMain">
            <div class="messages-container" id="messagesContainer">
                <!-- Messages will be inserted here dynamically -->
            </div>
        </main>

        <!-- Input Section -->
        <section class="input-section" id="inputSection">
            <div class="input-wrapper">
                <button class="attach-btn" id="attachBtn" title="Прикрепить файл">
                    <i class="fas fa-paperclip"></i>
                </button>
                <input type="file" id="fileInput" multiple accept="image/*,.pdf,.txt" style="display: none;">
                
                <div class="input-container">
                    <textarea 
                        id="userInput" 
                        placeholder="Введите ваше сообщение..." 
                        rows="1"
                    ></textarea>
                    
                    <div class="input-controls">
                        <button class="clear-input-btn" id="clearInputBtn" title="Очистить">
                            <i class="fas fa-times"></i>
                        </button>
                        <button class="input-btn" id="voiceBtn" title="Голосовой ввод">
                            <i class="fas fa-microphone"></i>
                        </button>
                        <button class="send-btn" id="sendBtn" title="Отправить сообщение" disabled>
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Attached Files -->
            <div class="attached-files" id="attachedFiles"></div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="action-btn" id="expandBtn" title="Режим чтения">
                    <i class="fas fa-expand"></i>
                </button>
                <button class="action-btn" title="Скачать чат">
                    <i class="fas fa-download"></i>
                </button>
                <button class="action-btn" title="Поделиться">
                    <i class="fas fa-share"></i>
                </button>
            </div>
        </section>

        <!-- Footer -->
        <footer class="app-footer" id="appFooter">
            <div class="footer-content">
                <div class="current-chat-info">
                    <i class="fas fa-comment"></i>
                    <span id="currentChatInfo">Новый чат</span>
                </div>
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span>KHAI онлайн</span>
                </div>
            </div>
        </footer>

        <!-- Navigation Controls -->
        <div class="navigation-controls hidden">
            <button class="nav-btn" id="scrollToTop" title="В начало">
                <i class="fas fa-arrow-up"></i>
            </button>
            <button class="nav-btn" id="scrollToBottom" title="В конец">
                <i class="fas fa-arrow-down"></i>
            </button>
        </div>

        <!-- Notifications -->
        <div class="notifications-container" id="notificationsContainer"></div>
    </div>

    <!-- Sidebar Menu -->
    <div class="sidebar-menu" id="sidebarMenu">
        <div class="sidebar-header">
            <h3>Меню KHAI</h3>
            <button class="sidebar-close" id="sidebarClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="sidebar-content">
            <div class="sidebar-section">
                <h4>Управление чатами</h4>
                <div class="search-chats">
                    <i class="fas fa-search"></i>
                    <input type="text" id="chatSearchInput" placeholder="Поиск по чатам...">
                </div>
                <div class="chat-list" id="chatList">
                    <!-- Chat list will be populated dynamically -->
                </div>
            </div>
            
            <div class="sidebar-section">
                <h4>Действия</h4>
                <button class="sidebar-btn primary" id="exportChats">
                    <i class="fas fa-download"></i> Экспорт чатов
                </button>
                <button class="sidebar-btn" id="importChats">
                    <i class="fas fa-upload"></i> Импорт чатов
                </button>
                <button class="sidebar-btn danger" id="clearAllChats">
                    <i class="fas fa-trash"></i> Удалить все чаты
                </button>
            </div>
            
            <div class="sidebar-section">
                <h4>Настройки</h4>
                <button class="sidebar-btn" id="settingsBtn">
                    <i class="fas fa-cog"></i> Настройки приложения
                </button>
                <div style="display: flex; align-items: center; gap: 12px; padding: 12px 16px;">
                    <span>Тема:</span>
                    <label class="theme-toggle">
                        <input type="checkbox" id="themeToggle">
                        <span class="theme-slider"></span>
                    </label>
                    <span id="themeLabel">Темная</span>
                </div>
            </div>
            
            <div class="sidebar-section">
                <h4>О приложении</h4>
                <div style="padding: 12px 16px; font-size: 13px; color: var(--text-secondary); line-height: 1.5;">
                    <p><strong>KHAI v1.2.0</strong></p>
                    <p>Первый белорусский ИИ чат с поддержкой генерации изображений и голосового ввода.</p>
                    <p style="margin-top: 8px;">&copy; 2024 KHAI. Все права защищены.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Scripts -->
    <script src="script.js"></script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(function(error) {
                        console.log('ServiceWorker registration failed: ', error);
                    });
            });
        }
    </script>
</body>
</html>
